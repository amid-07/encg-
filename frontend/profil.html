<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>Mon Profil</title>
    <link rel="stylesheet" href="css/new-style.css" />
  </head>
  <body>
    <header class="page-header">
      <div class="container">
        <span id="welcome-message">Chargement...</span>
        <nav>
          <a href="journal.html">Annonces</a>
          <a href="cours.html">Cours</a>
          <a href="#" id="logout-btn">Déconnexion</a>
        </nav>
      </div>
    </header>

    <main class="container">
      <h2>Mon Profil</h2>

      <!-- NOUVEAU BOUTON pour les modérateurs, caché par défaut -->
      <div id="panneau-moderateur" style="display: none; margin-bottom: 2rem">
        <a href="approbation.html" class="btn">Panneau d'approbation</a>
      </div>

      <!-- Section des annonces, visible seulement par les modérateurs -->
      <section
        id="creation-annonce-section"
        style="
          display: none;
          padding-bottom: 20px;
          border-bottom: 2px solid #005a9e;
        "
      >
        <h3>Publier une nouvelle annonce</h3>
        <form id="create-annonce-form">
          <div class="form-group">
            <label for="titre-annonce">Titre</label
            ><input type="text" id="titre-annonce" required />
          </div>
          <div class="form-group">
            <label for="contenu-annonce">Contenu</label
            ><textarea id="contenu-annonce" rows="4" required></textarea>
          </div>
          <div class="form-group">
            <label for="section-annonce">Cibler la Section :</label>
            <select id="section-annonce">
              <option value="tous">Toutes les sections</option>
              <option value="A">Section A</option>
              <option value="B">Section B</option>
            </select>
          </div>
          <div class="form-group">
            <label for="filiere-annonce">Cibler la Filière :</label>
            <select id="filiere-annonce">
              <option value="tous">Toutes les filières</option>
              <option value="Gestion">Gestion</option>
              <option value="Commerce">Commerce</option>
            </select>
          </div>
          <div class="form-group">
            <label for="groupe-annonce">Cibler le Groupe :</label>
            <select id="groupe-annonce" disabled>
              <option value="tous">D'abord choisir une filière...</option>
            </select>
          </div>
          <button type="submit" class="btn">Publier l'annonce</button>
          <p id="form-annonce-message"></p>
        </form>
      </section>

      <!-- Section des cours, visible par TOUS les utilisateurs connectés -->
      <section id="creation-cours-section" style="margin-top: 30px">
        <h3>Partager un nouveau cours / ressource</h3>
        <p>
          <small
            >Note : Les ressources partagées par les étudiants doivent être
            approuvées par un modérateur.</small
          >
        </p>
        <form id="create-cours-form">
          <div class="form-group">
            <label for="titre-cours">Titre de la ressource</label
            ><input type="text" id="titre-cours" required />
          </div>
          <div class="form-group">
            <label for="module-cours">Module concerné</label>
            <select id="module-cours" required>
              <option value="" disabled selected>Choisir un module...</option>
              <option value="GP">GP</option>
              <option value="GBT">GBT</option>
              <option value="SCM">SCM</option>
              <option value="INFO">INFO</option>
              <option value="GRH">GRH</option>
              <option value="Statistiques">Statistiques</option>
              <option value="Autre">Autre</option>
            </select>
          </div>
          <div class="form-group">
            <label for="description-cours">Brève description (optionnel)</label
            ><textarea id="description-cours" rows="3"></textarea>
          </div>
          <div class="form-group">
            <label for="lien-cours">Lien (Google Drive, etc.)</label
            ><input
              type="url"
              id="lien-cours"
              placeholder="https://..."
              required
            />
          </div>
          <div class="form-group">
            <label for="filiere-cours">Pour la filière :</label>
            <select id="filiere-cours">
              <option value="Gestion">Gestion</option>
              <option value="Commerce">Commerce</option>
            </select>
          </div>
          <button type="submit" class="btn">Partager la ressource</button>
          <p id="form-cours-message"></p>
        </form>
      </section>
    </main>
    <script src="js/profil.js"></script>
  </body>
</html>
